<div class="container-fluid">
  <div class="container mb-3">
    <form (submit)="onCheckReward(rewardForm)" #rewardForm="ngForm">
      <div class="col-md-12" style="text-align: center">
        <h1>ตรวจรางวัล</h1>
      </div>
      <div class="row">
        <div class="col">
          <div class="mb-2 row">
            <label for="daily" class="col-md-4 col-form-label"
              >งวดประจำวันที่</label
            >
            <div class="col-md-8">
              <input type="date" id="daily" class="form-control" name="period" ngModel />
            </div>
          </div>
          <div class="mb-2 row">
            <label for="firstPrize" class="col-md-4 col-form-label"
              >รางวัลที่ 1</label
            >
            <div class="col-md-8">
              <input type="text" id="firstPrize" class="form-control" name="firstPrize" ngModel />
            </div>
          </div>
          <div class="mb-2 row">
            <label for="threeRearPrize" class="col-md-4 col-form-label"
              >เลขท้าย 3 ตัว</label
            >
            <div class="col-md-4">
              <input type="text" id="threeRearPrize" class="form-control" name="lastThreePrize1" ngModel />
            </div>
            <div class="col-md-4">
              <input type="text" id="threeRearPrize" class="form-control" name="lastThreePrize2" ngModel/>
            </div>
          </div>
          <div class="mb-2 row">
            <label for="threeFrontPrize" class="col-md-4 col-form-label"
              >เลขหน้า 3 ตัว</label
            >
            <div class="col-md-4">
              <input type="text" id="threeFrontPrize" class="form-control" name="firstThreePrize1" ngModel />
            </div>
            <div class="col-md-4">
              <input type="text" id="threeFrontPrize" class="form-control" name="firstThreePrize2" ngModel />
            </div>
          </div>
          <div class="mb-2 row">
            <label for="twoDown" class="col-md-4 col-form-label"
              >2 ตัวล่าง</label
            >
            <div class="col-md-8">
              <input type="text" id="twoDown" class="form-control" name="downTwoPrize" ngModel />
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12" style="text-align: right;">
          <button mat-raised-button color="primary" type="submit">ตรวจรางวัล</button>
        </div>
      </div>
    </form>
  </div>
  <mat-divider class="mb-3"></mat-divider>
  <!-- <div class="row">
    <div class="col mb-3" style="text-align: center;">
      <h2>โพยถูกรางวัล</h2>
    </div>
  </div> -->
  <div class="row" *ngIf="dataSource">
    <div class="mat-elevation-z8 table-responsive">
      <div class="table-responsive">
        <table mat-table matSort [dataSource]="dataSource" class="w-100">

          <ng-container matColumnDef="agentId">
            <th mat-header-cell *matHeaderCellDef="">รหัสตัวแทน</th>
            <td mat-cell *matCellDef="let data">{{ data._id.agent.code }}</td>
          </ng-container>

          <ng-container matColumnDef="agentName">
            <th mat-header-cell *matHeaderCellDef="">ชื่อตัวแทน</th>
            <td mat-cell *matCellDef="let data">{{ data._id.agent.name }}</td>
          </ng-container>

          <ng-container matColumnDef="lists">
            <th mat-header-cell *matHeaderCellDef="">ลิสต์โพย</th>
            <td mat-cell *matCellDef="let data">{{ data.lists.length }}</td>
          </ng-container>

          <ng-container matColumnDef="customer">
            <th mat-header-cell *matHeaderCellDef="">ลูกค้า</th>
            <td mat-cell *matCellDef="let data">{{ data._id.customer }}</td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef="">ดูโพย</th>
            <td mat-cell *matCellDef="let data">
              <a mat-icon-button color="primary" (click)="onClick(data.lists)">
                <mat-icon class="mat-18" >search</mat-icon>
              </a>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <mat-paginator
          [pageSizeOptions]="[1, 5, 10]"
          showFirstLastButtons="true"
        ></mat-paginator>
      </div>
    </div>
  </div>
</div>